---
title: 检查提交信息
tags:
  - 工程化
---
## 为什么需要检查提交信息

保证提交信息整洁一致，利于快速理解提交内容的目的

## commitlint

安装依赖

```shell
pnpm add --save-dev @commitlint/{cli,config-conventional}
```

在 `.commitlintrc.cjs` 中配置

```js
module.exports = {
  extends: ['@commitlint/config-conventional']
}
```

配置 [[自动检查代码]]

`.husky/commit-msg`

```shell
#!/bin/sh
pnpm exec commitlint --edit $1
```

`--edit` 指定一个提交信息文件来进行检查，比如:

```shell
commitlint --edit .git/COMMIT_EDITMSG
```

`$1` 表示脚本接收到的第一个参数，在 husky 的 `commit-msg` hook 指的就是 `.git/COMMIT_EDITMSG`

## 规范

- `feat` 增加新功能
- `fix` 修复问题/BUG
- `style` 代码风格相关无影响运行结果的
- `perf` 优化/性能提升
- `refactor` 重构
- `revert` 撤销修改
- `test` 测试相关
- `docs` 文档/注释
- `chore` 依赖更新/脚手架配置修改等
- `ci` 持续集成

