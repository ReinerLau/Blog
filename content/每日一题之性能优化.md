---
tags:
  - 前端
---
# 什么是 CDN

- 定义: 一组分布在不同地理位置的用于缓存资源的服务器
- 目的: 使用户更快获取资源
- 原理
	- **缓存**: 首次请求从源服务器中获取资源后缓存到 CDN 服务器上
	- **就近**: 后续请求会自动重定向到离用户最近的服务器上获取资源, 减少传输延迟
- 优点
	- 速度: 就近访问, 减少传输延迟
	- 故障: 某个服务器出现故障可以自动切换到其他正常的服务器
	- 负载: CDN 分担了源服务器的流量压力, 提高稳定性和性能

# 什么是懒加载

- 定义: 延迟加载非关键资源
- 目的: 减少初始页面的资源请求数, 加快页面加载速度
- 原理
	- 识别可见区域: 确定哪些元素在用户的可见区域内, 通过监听滚动时间或使用 intersection Observer API 实现
	- 加载资源: 判断进入可见区域后开始加载资源
	- 替换占位符: 资源加载完成之前需要占位符来占据元素位置, 保持页面布局的完整性

# 如何实现防抖和节流

- 防抖: 在事件被触发后等待一段时间，如果在这段时间内没有再次触发该事件，则执行函数；如果在等待时间内事件再次被触发，则重新开始计时
- 节流: 在一定时间内只执行一次函数。即使在这段时间内事件被多次触发，函数也只会执行一次

# 如何避免回流与重绘

- 硬件加速: 使用CSS3的 `transform`和 `opacity` 属性，将元素的渲染交给GPU处理
- 合并操作: 尽量避免频繁地修改DOM，可以将多个修改操作合并到一个操作中。例如，可以先将元素脱离文档流（如使用 `display: none`），进行修改后再将其显示出来。
- 文档片段: 在向DOM中添加多个元素时，可以先在文档片段中进行操作，然后再将文档片段一次性添加到DOM中
- 缓存: 在需要多次访问布局信息时，可以先将这些信息缓存起来，避免每次都触发回流
- 避免: 某些CSS属性（如 `offsetWidth`、`offsetHeight`）会触发回流，尽量避免在频繁操作中使用这些属性

# 如何优化项目中的图片

- 选择格式: 选择合适的图片格式
- 图片尺寸: 确保图片的尺寸与在网页上显示的尺寸一致，避免加载过大的图片然后缩小显示
- 压缩图片: 使用图片压缩工具来减小文件大小，而不显著影响图片质量
- 懒加载: 只在用户滚动到图片位置时加载图片，可以减少初始加载时间
- 响应式: 使用 `<picture>` 元素或 `srcset` 属性，根据不同的屏幕尺寸加载不同大小的图片