---
tags:
  - vue
---
# 响应式

## 定义

实现数据与视图的同步

## 原理

- 实现

   - 数据劫持

      - Vue2: Object.defineProperty

      - Vue3: Proxy

   - 发布订阅模式

      - 发布者：响应式数据

      - 订阅者：依赖

         - render 函数

         - watch 回调

         - computed 回调

      - 发布订阅中心：依赖收集器

- 流程

   1. 初始渲染

      1. 数据劫持

      2. 解析模板语法：转成 render 函数

      3. 调用 render 函数

      4. 劫持到依赖对响应式数据的读取

      5. 触发依赖收集：将对应依赖加到依赖收集器中

   2. 状态变更

      1. 劫持到对响应式数据的写入

      2. 触发依赖更新：通知依赖收集器执行对应依赖进行更新

---

<https://tsejx.github.io/vue-guidebook/infrastructure/vue2/reactivity/>